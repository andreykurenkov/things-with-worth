public class MaxFlow {

	/**
	 * This method takes in a graph as specified in the Graph constructor, and
	 * returns the value of the maximum possible flow across that graph into the
	 * sink node, T, given an infinite supply of flow generated by S.
	 * 
	 * @param g
	 *            a graph which, in particular, contains nodes named S and T
	 *            (the source and sink, respectively)
	 * @return the maximum possible flow into T
	 */
	public static double maxFlow(Graph g) {
		if(g==null)
			return 0;
		Path path = g.getPathBFS();
		while (path != null) {
			double flowing = path.getMin();
			// System.out.println("flo " + flowing);
			for (Edge e : path.getPath()) {
				e.setFlow(e.getFlow() + flowing);
			}
			path = g.getPathBFS();
		}
		return g.getSink().getFlow();
	}
}
